<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D·ª± ƒëo√°n nguy c∆° ƒë·ªôt qu·ªµ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/menu.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
</head>
<body>

    {% include 'menu.html' %}

<div class="container mt-5">
    <h2 class="mb-4 text-center">D·ª± ƒëo√°n nguy c∆° ƒë·ªôt qu·ªµ</h2>
   
    {% if result is defined %}
        <div class="alert alert-info">
            Nguy c∆° ƒë·ªôt qu·ªµ ∆∞·ªõc t√≠nh: <strong>{{ result }}%</strong>
        </div>
    {% endif %}
    <form method="POST">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label>Gi·ªõi t√≠nh:</label>
                <select name="gender" class="form-select">
                    <option value="1">Nam</option>
                    <option value="0">N·ªØ</option>
                    <option value="2">Kh√°c</option>
                </select>
            </div>
            <div class="col-md-6 mb-3">
                <label>Tu·ªïi:</label>
                <input type="number" name="age" class="form-control" required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label>Huy·∫øt √°p cao:</label>
                <select name="hypertension" class="form-select">
                    <option value="1">C√≥</option>
                    <option value="0">Kh√¥ng</option>
                </select>
            </div>
            <div class="col-md-6 mb-3">
                <label>B·ªánh tim:</label>
                <select name="heart_disease" class="form-select">
                    <option value="1">C√≥</option>
                    <option value="0">Kh√¥ng</option>
                </select>
            </div>
        </div>

        <div class="mb-3">
            <label>T√¨nh tr·∫°ng h√¥n nh√¢n:</label>
            <select name="ever_married" class="form-select">
                <option value="1">ƒê√£ k·∫øt h√¥n</option>
                <option value="0">Ch∆∞a k·∫øt h√¥n</option>
            </select>
        </div>

        <div class="mb-3">
            <label>Lo·∫°i c√¥ng vi·ªác:</label>
            <select name="work_type" class="form-select">
                <option value="0">Tr·∫ª em/H·ªçc sinh/Sinh vi√™n</option>
                <option value="1">Nh√¢n vi√™n</option>
                <option value="2">T∆∞ nh√¢n</option>
                <option value="3">T·ª± kinh doanh</option>
                <option value="4">Kh√¥ng c√≥</option>
                <option value="4">Kh√°c</option>
            </select>
        </div>

        <div class="mb-3">
            <label>Khu v·ª±c sinh s·ªëng:</label>
            <select name="Residence_type" class="form-select">
                <option value="1">Th√†nh th·ªã</option>
                <option value="0">N√¥ng th√¥n</option>
            </select>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label>M·ª©c ƒë∆∞·ªùng huy·∫øt trung b√¨nh:</label>
                <input type="number" step="0.01" name="avg_glucose_level" class="form-control" required>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label>Chi·ªÅu cao (cm):</label>
                    <input type="number" step="0.1" name="height" id="height" class="form-control" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label>C√¢n n·∫∑ng (kg):</label>
                    <input type="number" step="0.1" name="weight" id="weight" class="form-control" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label>Ch·ªâ s·ªë BMI:</label>
                    <input type="number" step="0.1" id="bmi" class="form-control" readonly>
                </div>
            </div>
            
        </div>

        <div class="mb-4">
            <label>Th√≥i quen h√∫t thu·ªëc:</label>
            <select name="smoking_status" class="form-select">
                <option value="1">T·ª´ng h√∫t</option>
                <option value="2">Ch∆∞a t·ª´ng h√∫t</option>
                <option value="3">ƒêang h√∫t</option>
                <option value="0">Kh√¥ng r√µ</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">D·ª± ƒëo√°n</button>
        
        
    </form>
    <div class="d-flex justify-content-center mt-4">
            <a href="/history" class="btn btn-outline-primary">üìú Xem l·ªãch s·ª≠ d·ª± ƒëo√°n</a>
        </div>
</div>
{% include 'footer.html' %}

<script>
    function calculateBMI() {
        const height = parseFloat(document.getElementById('height').value);
        const weight = parseFloat(document.getElementById('weight').value);
    
        if (height > 0 && weight > 0) {
            const height_m = height / 100;
            const bmi = weight / (height_m * height_m);
            document.getElementById('bmi').value = bmi.toFixed(1);
        } else {
            document.getElementById('bmi').value = '';
        }
    }
    
    // G·∫Øn s·ª± ki·ªán t√≠nh BMI m·ªói khi nh·∫≠p chi·ªÅu cao ho·∫∑c c√¢n n·∫∑ng
    document.getElementById('height').addEventListener('input', calculateBMI);
    document.getElementById('weight').addEventListener('input', calculateBMI);
    </script>
    

</body>

</html>

